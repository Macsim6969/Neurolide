<div class="media-channel" *ngIf="offers;else loading">
  <div [ngClass]="{'active': activeChannel === i}" class="channel" *ngFor="let channel of offers;index as i"
    (click)="selectChannel(i)">
    <nav class="id">{{channel.id}}</nav>
    <nav class="name">{{channel.name}}</nav>
    <nav class="link">{{channel.link}}</nav>
    <nav class="subscribe">{{channel.balance}}</nav>
    <nav class="stream">{{channel.brand}}</nav>
    <button class="payout" (click)="openPayout(i)">
      <nav>{{activePayout && activePayout[i] ? activePayout[i] : channel?.payout}}</nav>
      <mat-icon svgIcon="arrow"></mat-icon>
      <div class="dropdown" [ngClass]="{'active': isOpen && isOpenDropdown[i]}">
        <nav (click)="choicePayout(i, 'CPM')" [ngClass]="{'active': activePayout[i ] === 'CPM' || channel?.payout === 'CPM'}">CPM</nav>
        <nav (click)="choicePayout(i, 'CPH')" [ngClass]="{'active': activePayout[i ] === 'CPH' || channel?.payout === 'CPH'}">CPH</nav>
        <mat-icon svgIcon="arrow"></mat-icon>
      </div>
    </button>

    <nav class="price">{{channel.balance}} $</nav>
    <nav class="status">
      <button (click)="removeOffers(channel.id)" type="button" class="remove "><mat-icon
          svgIcon="cancel"></mat-icon></button>
      <button (click)="setNewChanges(channel.id, i)" type="submit" class="save "><mat-icon
          svgIcon="confirme"></mat-icon></button>
      <button (click)="setVipStatus(channel.id)" type="submit" [ngClass]="{'active': channel.vip}"
        class="vip "><mat-icon svgIcon="vip"></mat-icon></button>
    </nav>
  </div>
</div>

<ng-template #loading>
  <app-loading></app-loading>
</ng-template>